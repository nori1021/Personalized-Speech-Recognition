# WhisperSR - パーソナライズド音声認識システム

WhisperSRは、OpenAIのWhisperモデルを使用して特定の人の音声を正確に文字起こしし、その音声認識システムを使って翻訳および字幕生成を行うツールです。

## 機能

1. **音声認識**
   - 日本語音声の高精度な文字起こし
   - タイムスタンプ付きセグメント出力
   - 認識結果の自動保存

2. **学習データ管理**
   - 音声データと転記テキストの自動保存
   - アノテーション機能
   - データセットの整理と管理

3. **モデルのファインチューニング**
   - 特定の話者に特化した学習
   - 学習データの拡充機能
   - モデルの保存と管理

4. **使いやすいGUIインターフェース**
   - ドラッグ&ドロップでの音声ファイル読み込み
   - リアルタイムの進捗表示
   - 結果のプレビューと保存

## セットアップ手順

1. **必要条件**
   - Python 3.8以上
   - Windows 10/11
   - 管理者権限（セットアップ時のみ）

2. **インストール**
   1. このリポジトリをクローンまたはダウンロード
   2. `setup.bat`を**管理者として実行**
      - 必要なパッケージのインストール
      - アプリケーションディレクトリの作成
      - Whisperモデルのダウンロード
      - 初期設定の実行

3. **起動方法**
   - `launch_app.bat`をダブルクリックして実行
   - アプリケーションが起動し、音声認識の準備が整います

## 使用方法

1. **音声認識**
   - アプリケーションを起動
   - 「参照」ボタンをクリックして音声ファイルを選択
   - 「文字起こし開始」ボタンをクリック
   - 認識結果が表示されたら「結果を保存」で保存可能

2. **ファインチューニング**
   - 複数の音声サンプルを認識して学習データを作成
   - 「モデルを学習」ボタンをクリックしてファインチューニングを開始
   - 学習完了後、自動的に新しいモデルが適用されます

## ファイル構成

- `PersonalizedSR.py`: メインの音声認識エンジン
- `sr_app.py`: GUIアプリケーション
- `test_environment.py`: 環境チェックツール
- `prepare_whisper.py`: Whisper初期設定ツール
- `setup.ps1`: セットアップスクリプト
- `setup.bat`: セットアップ実行バッチ
- `launch_app.bat`: アプリケーション起動バッチ

## データ保存場所

アプリケーションのデータは以下のディレクトリに保存されます：
`%LOCALAPPDATA%\WhisperSR\`

- `models/`: Whisperモデル
- `assets/`: アセットファイル
- `transcripts/`: 文字起こし結果
- `dataset/`: 学習データセット
- `annotations/`: アノテーションデータ
- `finetuned_models/`: ファインチューニング済みモデル

## トラブルシューティング

1. **セットアップに失敗する場合**
   - Pythonが正しくインストールされているか確認
   - 管理者権限でセットアップを実行しているか確認
   - アンチウイルスソフトが干渉していないか確認

2. **音声認識が開始されない場合**
   - サポートされている音声形式か確認（.wav, .mp3, .m4a）
   - ファイルパスに日本語や特殊文字が含まれていないか確認
   - 十分なディスク容量があるか確認

3. **エラーが発生した場合**
   - アプリケーションを再起動
   - 必要に応合わせてセットアップを再実行
   - エラーメッセージを確認して適切な対処を実施

## 注意事項

- 大きな音声ファイルの処理には時間がかかる場合があります
- ファインチューニングには十分な学習データが必要です
- GPUが利用可能な場合、自動的に使用されます
- 学習データは定期的にバックアップすることを推奨します

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
